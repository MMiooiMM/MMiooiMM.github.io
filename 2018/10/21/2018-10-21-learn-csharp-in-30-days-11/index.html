<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="你好，我是米歐，歡迎來到我的部落格:)"><meta property="og:title" content="MMiooiMM"><meta property="og:description" content="你好，我是米歐，歡迎來到我的部落格:)"><meta property="og:image" content="https://raw.githubusercontent.com/MMiooiMM/MMiooiMM.github.io/master/images/VeryImportantFile.jpg"><title>.NET 後端起手式 30天認識 C# - Day 11 類別(二) | MMiooiMM</title><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/highlight.css"><link rel="stylesheet" type="text/css" href="/css/font.css"><link rel="stylesheet" type="text/css" href="/css/noise.css"><link rel="stylesheet" type="text/css" href="/css/mio.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><meta name="generator" content="Hexo 4.2.1"></head><body><article class="wrapper"><div class="post-main"><div class="nav"><nav class="container"><a class="sidebar-nav-item active" href="/">Home</a><a class="sidebar-nav-item" href="/archives">Archives</a><a class="sidebar-nav-item" href="/about">About</a></nav><div class="container post-meta"><div class="post-tags"><a class="post-tag-link" href="/tags/2019-iT-%E9%82%A6%E5%B9%AB%E5%BF%99%E9%90%B5%E4%BA%BA%E8%B3%BD/" rel="tag">2019 iT 邦幫忙鐵人賽</a><a class="post-tag-link" href="/tags/CSharp/" rel="tag">CSharp</a></div><div class="post-time">2018-10-21</div></div></div><div class="container post-header"><h1>.NET 後端起手式 30天認識 C# - Day 11 類別(二)</h1></div><div class="container post-content"><h2 id="DAY-11-類別-二"><a href="#DAY-11-類別-二" class="headerlink" title="DAY 11 類別(二)"></a>DAY 11 類別(二)</h2><h3 id="類別"><a href="#類別" class="headerlink" title="類別"></a>類別</h3><p>接續昨天的話題，今天來聊聊靜態成員、擴充功能與命名空間。</p>
<h3 id="靜態成員"><a href="#靜態成員" class="headerlink" title="靜態成員"></a>靜態成員</h3><blockquote>
<p>使用 static 修飾詞來宣告靜態成員，而靜態成員屬於類型本身，而不是特定物件。</p>
</blockquote>
<p>也就是類別成員如果宣告成靜態的成員，那麼在 new 成物件時不能去使用，因為該成員不屬於這個物件，而是屬於類別。</p>
<p>像 DAY 08 所舉例的方法，以 string 這個類別來舉例</p>
<p>由類別本身來存取</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">string</span> str = <span class="keyword">string</span>.Format (<span class="string">"這是&#123;0&#125;。"</span>, <span class="string">"靜態方法"</span>);</span><br><span class="line">Console.WriteLine (<span class="string">"這也是靜態方法"</span>);</span><br></pre></td></tr></table></figure>

<p>由物件本身來存取</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">string</span> str = <span class="string">"測試用物件本身來存取"</span>;</span><br><span class="line"><span class="keyword">string</span> str2 = str.Replace (<span class="string">"測試"</span>,<span class="string">"非靜態方法"</span>);</span><br></pre></td></tr></table></figure>

<p>所以如果宣告成靜態成員，只要擁有該類別的存取權就能直接使用類別的成員，優點是可以不需要 new 出一個物件，就能使用該類別的成員，缺點是這些靜態成員因為是類別本身，所以會失去物件之間的差異性。</p>
<h3 id="擴充方法"><a href="#擴充方法" class="headerlink" title="擴充方法"></a>擴充方法</h3><p>知道如何使用靜態成員後，就可以來撰寫擴充方法了，</p>
<blockquote>
<p>擴充方法可讓您在現有類型中「加入」方法，而不需要建立新的衍生類型、重新編譯，或是修改原始類型。</p>
</blockquote>
<p>簡單說就是擴充現有類別內的方法，例如你想在 int 裡面多一個方法，這個方法只要一執行就會回傳本來的值乘二。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span> &#123;</span><br><span class="line">  <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span> (<span class="params"><span class="keyword">string</span>[] args</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> i2 = i.Add2 ();</span><br><span class="line">    Console.WriteLine (<span class="string">$"i: <span class="subst">&#123;i&#125;</span>, i2: <span class="subst">&#123;i2&#125;</span>"</span>);</span><br><span class="line">    Console.ReadKey ();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">class</span> <span class="title">MyExtensions</span> &#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">Add2</span> (<span class="params"><span class="keyword">this</span> <span class="keyword">int</span> number</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> number + <span class="number">2</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我們建立一個靜態類別，並將靜態方法第一個參數用 this 關鍵字，就可以做出一個擴充方法，除此之外與一般的方法一樣。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span> &#123;</span><br><span class="line">  <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span> (<span class="params"><span class="keyword">string</span>[] args</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> i2 = i.Add2n (<span class="number">6</span>);</span><br><span class="line">    Console.WriteLine (<span class="string">$"i: <span class="subst">&#123;i&#125;</span>, i2: <span class="subst">&#123;i2&#125;</span>"</span>);</span><br><span class="line">    Console.ReadKey ();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">class</span> <span class="title">MyExtensions</span> &#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">Add2n</span> (<span class="params"><span class="keyword">this</span> <span class="keyword">int</span> number, <span class="keyword">int</span> n</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> number + <span class="number">2</span> * n;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>衍生類別會在後面介紹。</p>
<h3 id="命名空間"><a href="#命名空間" class="headerlink" title="命名空間"></a>命名空間</h3><p>可以看到一開始建立的專案，程式碼文件 <code>Program.cs</code> 剩下 namespace 與 using 這兩個關鍵字還沒解說，這邊一次講完。</p>
<p>先附上我目前的程式碼文件並解說這兩個關鍵字</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">demo</span> &#123;</span><br><span class="line">  <span class="keyword">class</span> <span class="title">Program</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span> (<span class="params"><span class="keyword">string</span>[] args</span>)</span> &#123;</span><br><span class="line">      <span class="keyword">int</span> i = <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">int</span> i2 = i.Add2n (<span class="number">6</span>);</span><br><span class="line">      Console.WriteLine (<span class="string">$"i: <span class="subst">&#123;i&#125;</span>, i2: <span class="subst">&#123;i2&#125;</span>"</span>);</span><br><span class="line">      Console.ReadKey ();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">MyExtensions</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">Add2n</span> (<span class="params"><span class="keyword">this</span> <span class="keyword">int</span> number, <span class="keyword">int</span> n</span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> number + <span class="number">2</span> * n;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="namespace"><a href="#namespace" class="headerlink" title="namespace"></a>namespace</h4><p>命名空間。</p>
<p>因為程式在執行時不會去看說你的檔名是什麼，而是去找命名空間是什麼，像是我們這份文件主要的內容都在命名空間為 demo 裡面，外部文件如果要參考並存取這份文件，就可以用 demo.xxxx 來讀取內容。</p>
<h4 id="using"><a href="#using" class="headerlink" title="using"></a>using</h4><p>建立命名空間的別名(Alias)，或用來匯入其他命名空間中定義的類別。</p>
<p>就像上述範例的 <code>using System;</code>，而 System 就是系統預設的一個命名空間，透過 using 我們就可以直接使用他的類別。如果不使用 using 也可以使用該類別，因為專案建立時，已經參考很多很多你不知道的東西，<strong>using</strong>只是把該命名空間整個匯入而已。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">demo</span> &#123;</span><br><span class="line">  <span class="keyword">class</span> <span class="title">Program</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span> (<span class="params"><span class="keyword">string</span>[] args</span>)</span> &#123;</span><br><span class="line">      <span class="keyword">int</span> i = <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">int</span> i2 = i.Add2n (<span class="number">6</span>);</span><br><span class="line">      System.Console.WriteLine (<span class="string">$"i: <span class="subst">&#123;i&#125;</span>, i2: <span class="subst">&#123;i2&#125;</span>"</span>);</span><br><span class="line">      System.Console.ReadKey ();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">MyExtensions</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">Add2n</span> (<span class="params"><span class="keyword">this</span> <span class="keyword">int</span> number, <span class="keyword">int</span> n</span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> number + <span class="number">2</span> * n;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>若不同的命名空間內有一樣名稱的類別，則需要標註命名空間，但命名空間可能很長很長，所以用 using 指示時可以建立別名如</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> S = System;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">demo</span> &#123;</span><br><span class="line">  <span class="keyword">class</span> <span class="title">Program</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span> (<span class="params"><span class="keyword">string</span>[] args</span>)</span> &#123;</span><br><span class="line">      <span class="keyword">int</span> i = <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">int</span> i2 = i.Add2n (<span class="number">6</span>);</span><br><span class="line">      S.Console.WriteLine (<span class="string">$"i: <span class="subst">&#123;i&#125;</span>, i2: <span class="subst">&#123;i2&#125;</span>"</span>);</span><br><span class="line">      S.Console.ReadKey ();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">MyExtensions</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">Add2n</span> (<span class="params"><span class="keyword">this</span> <span class="keyword">int</span> number, <span class="keyword">int</span> n</span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> number + <span class="number">2</span> * n;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>題外話：這解釋是對 using 的指示詞用法，如果想知道另外一種用法，可以到文末參考連結觀看保哥的文章，有很詳細的說明。</p>
<h3 id="一些小結論"><a href="#一些小結論" class="headerlink" title="一些小結論"></a>一些小結論</h3><p>今天介紹靜態成員了解靜態成員的使用方式與時機，擴充方法可以讓我們將現有的類別擴充想要的方法，命名空間則可能要接觸到專案後才可能會使用，教學文的範例程式不會跨命名空間撰寫，簡單的內容分開寫沒有太大的意義。</p>
<p>感謝閱讀。</p>
<p>參考連結<br><a href="https://docs.microsoft.com/zh-tw/dotnet/csharp/language-reference/keywords/static" target="_blank" rel="noopener">static (C# 參考) | Microsoft Docs</a><br><a href="https://docs.microsoft.com/zh-tw/dotnet/csharp/programming-guide/classes-and-structs/extension-methods" target="_blank" rel="noopener">擴充方法 (C# 程式設計手冊) | Microsoft Docs</a><br><a href="https://blog.miniasp.com/post/2009/10/12/About-CSharp-using-Statement-misunderstanding-on-try-catch-finally.aspx" target="_blank" rel="noopener">The Will Will Web | 關於 C# 的 using 陳述式在實務應用上的基本觀念</a></p>
</div></div><div class="post-main post-comment"><div id="disqus_thread"></div><script type="text/javascript">
var disqus_shortname = 'mio-blog';
var disqus_identifier = '2018/10/21/2018-10-21-learn-csharp-in-30-days-11/';
var disqus_title = '.NET 後端起手式 30天認識 C# - Day 11 類別(二)';
var disqus_url = 'http://yoursite.com/2018/10/21/2018-10-21-learn-csharp-in-30-days-11/';
(function() {
   var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
   dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
   (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript" target="_blank" rel="noopener">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" target="_blank" rel="noopener" class="dsq-brlink">Blog comments powered by <span class="logo-disqus">Disqus</span></a></div></article><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
  $(".fancybox").fancybox();
});
</script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
e=o.createElement(i);r=o.getElementsByTagName(i)[0];
e.src='//www.google-analytics.com/analytics.js';
r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
ga('create','UA-156431110-1');ga('send','pageview');</script></body></html>