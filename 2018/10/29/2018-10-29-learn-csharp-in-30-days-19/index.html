<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="你好，我是米歐，歡迎來到我的部落格:)"><meta property="og:title" content="MMiooiMM"><meta property="og:description" content="你好，我是米歐，歡迎來到我的部落格:)"><meta property="og:image" content="https://raw.githubusercontent.com/MMiooiMM/MMiooiMM.github.io/master/images/VeryImportantFile.jpg"><title>.NET 後端起手式 30天認識 C# - Day 19 泛型集合類別 | MMiooiMM</title><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/highlight.css"><link rel="stylesheet" type="text/css" href="/css/font.css"><link rel="stylesheet" type="text/css" href="/css/noise.css"><link rel="stylesheet" type="text/css" href="/css/mio.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><meta name="generator" content="Hexo 4.2.1"></head><body><article class="wrapper"><div class="post-main"><div class="nav"><nav class="container"><a class="sidebar-nav-item active" href="/">Home</a><a class="sidebar-nav-item" href="/archives">Archives</a><a class="sidebar-nav-item" href="/about">About</a></nav><div class="container post-meta"><div class="post-tags"><a class="post-tag-link" href="/tags/2019-iT-%E9%82%A6%E5%B9%AB%E5%BF%99%E9%90%B5%E4%BA%BA%E8%B3%BD/" rel="tag">2019 iT 邦幫忙鐵人賽</a><a class="post-tag-link" href="/tags/CSharp/" rel="tag">CSharp</a></div><div class="post-time">2018-10-29</div></div></div><div class="container post-header"><h1>.NET 後端起手式 30天認識 C# - Day 19 泛型集合類別</h1></div><div class="container post-content"><h2 id="DAY-19-泛型集合類別"><a href="#DAY-19-泛型集合類別" class="headerlink" title="DAY 19 泛型集合類別"></a>DAY 19 泛型集合類別</h2><h3 id="泛型集合類別"><a href="#泛型集合類別" class="headerlink" title="泛型集合類別"></a>泛型集合類別</h3><p>今天會來介紹幾個常用的泛型集合類別。</p>
<p>所有的泛型集合類別都位於 System.Collections.Generic 這個命名空間，所以沒有 using 的話，可能就沒有辦法像範例程式碼一樣使用。</p>
<h3 id="List-lt-T-gt"><a href="#List-lt-T-gt" class="headerlink" title="List&lt;T&gt;"></a>List&lt;T&gt;</h3><p>與 Array 相似的類別，但差別在於 Array 在建立的時候，就會決定陣列大小，但 List 不會。用簡單的方法來說就是，Array 像是百貨公司，蓋在同一塊地(記憶空間))，但是每一層樓(型別)規模一樣，並且樓層數早就決定好了，而 List 則像是便利商店，雖然只有一層樓(型別)，但蓋在各個地方(記憶空間)，想蓋幾間就幾間。這我就忘了在哪邊看到的比喻了，簡單又好懂。</p>
<p>使用方法如</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> list = <span class="keyword">new</span> List&lt;<span class="keyword">string</span>&gt; ();</span><br><span class="line">list.Add (<span class="string">"Mio"</span>);</span><br><span class="line">list.Add (<span class="string">"Miffy"</span>);</span><br><span class="line">list.Add (<span class="string">"Lulu"</span>);</span><br><span class="line">list.Add (<span class="string">"NekoSan"</span>);</span><br><span class="line">Console.WriteLine (<span class="string">$"Hi, I am <span class="subst">&#123;list[<span class="number">0</span>]&#125;</span>"</span>);</span><br><span class="line">list.Sort ();</span><br><span class="line">Console.WriteLine (<span class="string">$"Hi, I am <span class="subst">&#123;list[<span class="number">0</span>]&#125;</span>"</span>);</span><br></pre></td></tr></table></figure>

<p>List 在添加東西時，是使用 Add () 這個方法添加到集合的最後一個元素後面，取值則類似 Array 使用索引存取運算子，而 Sort () 則會重新排列集合元素，但如果自定義類別想要使用排序時呢？那麼就需要實作 IComparable 介面，或者使用時給予排列的方法。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span> &#123;</span><br><span class="line">  <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span> (<span class="params"><span class="keyword">string</span>[] args</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> list = <span class="keyword">new</span> List&lt;Member&gt; ();</span><br><span class="line">    list.Add (<span class="keyword">new</span> Member () &#123; ID = <span class="number">6</span> &#125;);</span><br><span class="line">    list.Add (<span class="keyword">new</span> Member () &#123; ID = <span class="number">7</span> &#125;);</span><br><span class="line">    list.Add (<span class="keyword">new</span> Member () &#123; ID = <span class="number">4</span> &#125;);</span><br><span class="line">    list.Sort ();</span><br><span class="line">    list.Sort ((x, y) =&gt; &#123; <span class="keyword">return</span> -x.ID.CompareTo (y.ID); &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title">Member</span> : <span class="title">IComparable</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">int</span> ID;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">CompareTo</span> (<span class="params"><span class="keyword">object</span> obj</span>)</span> =&gt; <span class="keyword">this</span>.ID.CompareTo (((Member) obj).ID);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>List 還有很多很方便的方法，移除 List 元素像 Remove () 或者 RemoveAt ()，搜尋 List 元素如 Contains ()、IndexOf ()、LastIndexOf () 以及 BinarySearch ()，前三者除了 LastIndexOf () 是從最後一個元素開始之外，都是以第一個元素開始，檢查每個元素，直到符合目標的第一個元素，所以 IndexOf () 傳回符合目標的第一個索引，而 LastIndexOf () 傳回符合目標的最後一個索引。</p>
<p>關於 List 的方法還有很多，可以自己去點點看。</p>
<p>題外話：初始化時也可以同時賦值如</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> list = <span class="keyword">new</span> List&lt;<span class="keyword">string</span>&gt; () &#123; <span class="string">"Mio"</span>, <span class="string">"Miffy"</span>, <span class="string">"Lulu"</span>, <span class="string">"NekoSan"</span> &#125;;</span><br></pre></td></tr></table></figure>

<h3 id="Dictionary-lt-Tkey-TValue-gt"><a href="#Dictionary-lt-Tkey-TValue-gt" class="headerlink" title="Dictionary&lt;Tkey, TValue&gt;"></a>Dictionary&lt;Tkey, TValue&gt;</h3><p>字典類型，有著 key-value 對照表的集合，key 值除了無法重複之外，無任何的限制，也因為有著對照表的關係，使得字典類型查詢效率高。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> dictionary = <span class="keyword">new</span> Dictionary&lt;<span class="keyword">string</span>, <span class="keyword">string</span>&gt; () &#123;</span><br><span class="line">    [<span class="meta"><span class="meta-string">"0"</span></span>] = <span class="string">"Mio"</span>, [<span class="string">"2"</span>] = <span class="string">"Lulu"</span>, [<span class="string">"1"</span>] = <span class="string">"Miffy"</span></span><br><span class="line">  &#125;;</span><br><span class="line">dictionary.Add (<span class="string">"3"</span>, <span class="string">"NekoSan"</span>);</span><br><span class="line">Console.WriteLine (<span class="string">$"Hi, I am <span class="subst">&#123;dictionary[<span class="string">"0"</span>]&#125;</span>"</span>);</span><br></pre></td></tr></table></figure>

<p>一樣透過 Add () 新增元素，加入時一樣會放到集合最後一個位置，這邊把本來的數字格式改成字串格式，強調取值時是以 key 的型別去取得符合的元素，而不是像 Array 與 List 找集合位置，若找不到符合的元素則會傳回錯誤。</p>
<p>可透過 Remove () 刪除一個 key，查詢時可以用 ContainsKey () 來確認是否有符合的 Key，或 ContainsValue () 來查詢符合的 value，更多內容都可以去點點看。</p>
<h3 id="一些小結論"><a href="#一些小結論" class="headerlink" title="一些小結論"></a>一些小結論</h3><p>本來想把常用的集合類別講完，但礙於一些個人問題，所以就分成兩篇了，明天才會做一次總結。</p>
<p>感謝閱讀。</p>
</div></div><div class="post-main post-comment"><div id="disqus_thread"></div><script type="text/javascript">
var disqus_shortname = 'mio-blog';
var disqus_identifier = '2018/10/29/2018-10-29-learn-csharp-in-30-days-19/';
var disqus_title = '.NET 後端起手式 30天認識 C# - Day 19 泛型集合類別';
var disqus_url = 'http://yoursite.com/2018/10/29/2018-10-29-learn-csharp-in-30-days-19/';
(function() {
   var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
   dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
   (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript" target="_blank" rel="noopener">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" target="_blank" rel="noopener" class="dsq-brlink">Blog comments powered by <span class="logo-disqus">Disqus</span></a></div></article><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
  $(".fancybox").fancybox();
});
</script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
e=o.createElement(i);r=o.getElementsByTagName(i)[0];
e.src='//www.google-analytics.com/analytics.js';
r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
ga('create','UA-156431110-1');ga('send','pageview');</script></body></html>