<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="你好，我是米歐，歡迎來到我的部落格:)"><meta property="og:title" content="MMiooiMM"><meta property="og:description" content="你好，我是米歐，歡迎來到我的部落格:)"><meta property="og:image" content="https://raw.githubusercontent.com/MMiooiMM/MMiooiMM.github.io/master/images/VeryImportantFile.jpg"><title>大內魔術 Blazor - 誰說前端一定要寫JS - Day 02 舞台建造與介紹 | MMiooiMM</title><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/highlight.css"><link rel="stylesheet" type="text/css" href="/css/font.css"><link rel="stylesheet" type="text/css" href="/css/noise.css"><link rel="stylesheet" type="text/css" href="/css/mio.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><meta name="generator" content="Hexo 4.2.1"></head><body><article class="wrapper"><div class="post-main"><div class="nav"><nav class="container"><a class="sidebar-nav-item active" href="/">Home</a><a class="sidebar-nav-item" href="/archives">Archives</a><a class="sidebar-nav-item" href="/about">About</a></nav><div class="container post-meta"><div class="post-tags"><a class="post-tag-link" href="/tags/Blazor/" rel="tag">Blazor</a><a class="post-tag-link" href="/tags/CSharp/" rel="tag">CSharp</a><a class="post-tag-link" href="/tags/%E7%AC%AC-12-%E5%B1%86-iThome-%E9%90%B5%E4%BA%BA%E8%B3%BD/" rel="tag">第 12 屆 iThome 鐵人賽</a></div><div class="post-time">2020-09-17</div></div></div><div class="container post-header"><h1>大內魔術 Blazor - 誰說前端一定要寫JS - Day 02 舞台建造與介紹</h1></div><div class="container post-content"><p>想要變一個華麗的魔術，表演場地是不可或缺的，無論你是用 VSCode、Visual Studio 2019 甚至是 Visual Studio 2019 for Mac 都好，只要能搭建舞台(範本專案)的都是好場地。</p>
<p>以 Visual Studio 2019 來做示範，首先請到 <a href="https://visualstudio.microsoft.com/zh-hant/vs/" target="_blank" rel="noopener">Visual Studio 2019</a> 安裝頁面下載符合自己電腦規格的版本。</p>
<p>避免有些人可能已經安裝了舊版本的 Visual Studio 2019，進行前需要確認自己的 Visual Studio 2019 版本是否正確，可以到<code>說明/關於 Microsoft Visual Studio</code>進行確認。</p>
<p><img src="/images/2020-09-17/vs2019-description.png" alt="/images/2020-09-17/vs2019-description.png"></p>
<p>如果版本小於 <code>v16.7</code>，建議到<code>說明/查看是否有更新</code>來進行版本更新，而 Visual Studio 2019 for Mac 版本小於 <code>v8.7.6</code> 的朋友也請記得更新。</p>
<p><img src="/images/2020-09-17/vs2019-version-check.png" alt="/images/2020-09-17/vs2019-version-check.png"></p>
<p>而魔術材料(SDK)的選擇為現階段穩定版本<a href="https://dotnet.microsoft.com/download" target="_blank" rel="noopener">.NET Core 3.1 (Linux, macOS, and Windows)</a>，安裝完畢就可以準備搭建舞台囉。</p>
<p>開啟 Visual Studio 2019 會看到建立新專案的畫面，點擊<strong>建立新的專案</strong>。</p>
<p><img src="/images/2020-09-17/open-vs2019.jpg" alt="/images/2020-09-17/open-vs2019.jpg"></p>
<p>選擇<strong>Blazor 應用程式</strong>，如果沒有像圖中一樣直接出現範本，可以到上方輸入框搜尋範本。</p>
<p><img src="/images/2020-09-17/select-project.png" alt="/images/2020-09-17/select-project.png"></p>
<p>為你的舞台想一個響亮的名稱後，選擇 <strong>Blazor WebAssembly App</strong> 來做舞台基底。</p>
<p><img src="/images/2020-09-17/select-blazor-hosted.png" alt="/images/2020-09-17/select-blazor-hosted.png"></p>
<p>當舞台基底搭建好時，就可以按下 F5 開啟，見識見識 Blazor 的初始樣貌啦。</p>
<p>而使用 VSCode 的見習魔術師可以透過在 CLI 使用 <code>dotnet new blazorwasm</code> 咒語在該目錄下使用目錄名稱搭建舞台，並透過 <code>dotnet run</code> 來開啟舞台，對咒語有興趣的魔法師可以閱讀 <a href="https://docs.microsoft.com/zh-tw/dotnet/core/tools/dotnet" target="_blank" rel="noopener">dotnet 命令</a>。</p>
<p>再來這邊簡單的介紹一下預設的舞台配置(專案結構)，可以透過 Visual Studio 2019 的方案總管看到下圖。</p>
<p><img src="/images/2020-09-17/blazor-project-structure.jpg" alt="/images/2020-09-17/blazor-project-structure.jpg"></p>
<ul>
<li><code>App.razor</code>：整個魔術的核心，又名應用程式的根元件，並透過 Router 元件來設定路由，Router 元件會在之後詳細介紹。</li>
<li><code>Program.cs</code>：開啟舞台的第一個準備動作，又名應用程式的進入點，對於 Blazor WebAssembly 應用程式而言是唯一且必須存在的檔案。<ul>
<li>將 App 元件指定為 <code>app</code> 名稱的 DOM 元素(<code>&lt;app&gt;...&lt;/app&gt;</code>)到根元件集合裡(<code>builder.RootComponents.Add&lt;App&gt;(&quot;app&quot;)</code>)。</li>
<li>新增並設定服務，服務設定會在之後詳細介紹。</li>
</ul>
</li>
<li><code>wwwroot</code>：展示公開道具的地方，又名應用程式的 Web 根資料夾，存放應用程式的公用靜態資產，簡單來說就是這邊的東西一般可以直接取得。</li>
<li><code>wwwroot/index.html</code>：展示給觀眾看的效果畫面，又名應用程式的根頁面，以 HTML 頁面的方式實作：<ul>
<li>當任意頁面被瀏覽時，會渲染畫面並傳回此頁面。</li>
<li>頁面會指定呈現根元件的位置(<code>&lt;app&gt;Loading...&lt;/app&gt;</code>)。</li>
<li>載入 JavaScript 檔案(<code>&lt;script src=&quot;_framework/blazor.webassembly.js&quot;&gt;&lt;/script&gt;</code>)，因為瀏覽器終究是看不懂 C# 的，開發最後還是需要編譯成 <code>blazor.webassembly.js</code>，其用於<ol>
<li>下載 .NET Runtime、應用程式和應用程式的相依套件。</li>
<li>初始化 Runtime 以執行應用程式。</li>
</ol>
</li>
</ul>
</li>
<li><code>Pages</code> 資料夾：存放每一場魔術(<code>.razor</code>)的地方，存放可尋訪的元件/頁面的地方，可尋訪的元件/頁面會在之後詳細介紹，預設有：<ul>
<li><code>Counter.razor</code>：實作計數器頁面。</li>
<li><code>FetchData.razor</code>：實作提取資料頁面。</li>
<li><code>Index.razor</code>：實作首頁。</li>
</ul>
</li>
<li><code>Properties/launchSettings.json</code>：設定開啟舞台的方式，也就是開發環境的設定。</li>
<li><code>Shared</code> 資料夾：存放可共用的組合魔術的地方，也就是放置其他的 UI 元件，預設有：<ul>
<li><code>MainLayout.razor</code>：應用程式預設的版面配置元件，版面配置會在之後詳細介紹。</li>
<li><code>NavMenu.razor</code>：實作導覽畫面，導覽元件會在之後詳細介紹。</li>
</ul>
</li>
<li><code>_Imports.razor</code>：放在這裡的魔術道具都可以在每一個魔術中使用，也就是存放共同使用的 Razor 指示詞，以 <code>@using</code> 命名空間來說，寫在這裡的命名空間，在每一份 <code>.razor</code> 都能夠正確存取。</li>
<li><code>appsettings.json</code>：能夠隨意替換魔術道具的地方，也就是應用程式的組態檔，組態會在之後詳細介紹</li>
</ul>
<p>希望以上介紹能夠使你對於魔術舞台的基本內容有著一定程度的了解，在日後擺放新內容時不會放錯位置，雖然放錯位置可能不會使魔術表演失敗，但會讓接手的下一個魔術師難以理解你的舞台配置。</p>
<p>參考來源<br><a href="https://docs.microsoft.com/zh-tw/aspnet/core/blazor/templates?view=aspnetcore-3.1" target="_blank" rel="noopener">ASP.NET Core Blazor 範本</a></p>
</div></div><div class="post-main post-comment"><div id="disqus_thread"></div><script type="text/javascript">
var disqus_shortname = 'mio-blog';
var disqus_identifier = '2020/09/17/2020-09-17-learn-blazor-in-30-days-02/';
var disqus_title = '大內魔術 Blazor - 誰說前端一定要寫JS - Day 02 舞台建造與介紹';
var disqus_url = 'http://yoursite.com/2020/09/17/2020-09-17-learn-blazor-in-30-days-02/';
(function() {
   var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
   dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
   (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript" target="_blank" rel="noopener">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" target="_blank" rel="noopener" class="dsq-brlink">Blog comments powered by <span class="logo-disqus">Disqus</span></a></div></article><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
  $(".fancybox").fancybox();
});
</script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
e=o.createElement(i);r=o.getElementsByTagName(i)[0];
e.src='//www.google-analytics.com/analytics.js';
r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
ga('create','UA-156431110-1');ga('send','pageview');</script></body></html>